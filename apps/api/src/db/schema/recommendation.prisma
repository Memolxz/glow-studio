model Recommendation {
  id                        Int                        @id @default(autoincrement())
  userId                    Int
  productId                 Int
  createdAt                 DateTime                   @default(now())

  product                   Product                    @relation(fields: [productId], references: [id])
  user                      Users                      @relation(fields: [userId], references: [id], onDelete: Cascade)
  recommendationIngredients RecommendationIngredient[]

  @@index([userId])
  @@index([productId])
}

model RecommendationIngredient {
  recommendationId Int
  ingredientId     Int

  ingredient       Ingredients    @relation(fields: [ingredientId], references: [id])
  recommendation   Recommendation @relation(fields: [recommendationId], references: [id], onDelete: Cascade)

  @@id([recommendationId, ingredientId])
  
  @@index([recommendationId])
  @@index([ingredientId])
}
